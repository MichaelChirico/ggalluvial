<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Optimize strata — minimize-overlaps • ggalluvial</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Optimize strata — minimize-overlaps" />

<meta property="og:description" content="The function optimize_strata() attempts to order the strata at each
axis so as to maximize the readability of the diagram, by minimizing a
weighted total of the overlaps of crossing flows. The weight assigned to each
overlap is the product of the mean weights of the overlapping flows at
each incident axis. The function permute_strata() applies the stratum
permutations to the stratum variable of the data frame; the experimental
function permute_axis_strata() applies a list of permutations
axis-wise, potentially resulting in different orderings of the same strata at
different axes." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggalluvial</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.10.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ggalluvial.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/labels.html">Labeling small strata</a>
    </li>
    <li>
      <a href="../articles/order-rectangles.html">The Order of the Rectangles</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Optimize strata</h1>
    
    <div class="hidden name"><code>minimize-overlaps.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The function <code>optimize_strata()</code> attempts to order the strata at each
axis so as to maximize the readability of the diagram, by minimizing a
weighted total of the overlaps of crossing flows. The weight assigned to each
overlap is the product of the mean <code>weight</code>s of the overlapping flows at
each incident axis. The function <code>permute_strata()</code> applies the stratum
permutations to the stratum variable of the data frame; the experimental
function <code>permute_axis_strata()</code> applies a list of permutations
axis-wise, potentially resulting in different orderings of the same strata at
different axes.</p>
    
    </div>

    <pre class="usage"><span class='fu'>optimize_strata</span>(<span class='no'>data</span>, <span class='no'>key</span>, <span class='no'>value</span>, <span class='no'>id</span>, <span class='kw'>weight</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>niter</span> <span class='kw'>=</span> <span class='fl'>6</span>)

<span class='fu'>permute_strata</span>(<span class='no'>data</span>, <span class='no'>key</span>, <span class='no'>value</span>, <span class='no'>id</span>, <span class='no'>perm</span>)

<span class='fu'>permute_axis_strata</span>(<span class='no'>data</span>, <span class='no'>key</span>, <span class='no'>value</span>, <span class='no'>id</span>, <span class='no'>perms</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>Data frame in lode form (see <code><a href='ggalluvial-deprecated.html'>to_lodes</a></code>).</p></td>
    </tr>
    <tr>
      <th>key, value, id</th>
      <td><p>Numeric or character; the fields of <code>data</code>
corresponding to the axis (variable), stratum (value), and alluvium
(identifying) variables.</p></td>
    </tr>
    <tr>
      <th>weight</th>
      <td><p>Numeric or character; the field of <code>data</code> corresponding to
flow weights (heights in the diagram). The default value <code>NULL</code>
assigns every alluvium, hence every overlap, unit weight.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>Character; whether to exhaust all permutations of all axes
(<code>"exhaustive"</code>) versus to perform heuristic optimization from random
initial permutations (<code>"heuristic"</code>). Default, <code>NULL</code>, is to use
the heuristic algorithm unless no axis has six or more strata.</p></td>
    </tr>
    <tr>
      <th>niter</th>
      <td><p>Positive integer; if <code>method</code> is <code>"heuristic"</code>, the
number of iterations to perform from randomly sampled seed permutation
sets.</p></td>
    </tr>
    <tr>
      <th>perm, perms</th>
      <td><p>An integer vector (<code>perm</code>) or list of integer vectors
(<code>perms</code>) encoding permutation(s) of the strata, as output by
<code>optimize_strata()</code>).</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>Titanic</span>)
<span class='no'>titanic</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='alluvial-data.html'>to_lodes_form</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/as.data.frame'>as.data.frame</a></span>(<span class='no'>Titanic</span>), <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>4</span>)
<span class='fu'>ggplot</span>(<span class='no'>titanic</span>,
       <span class='fu'>aes</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>stratum</span> <span class='kw'>=</span> <span class='no'>stratum</span>, <span class='kw'>alluvium</span> <span class='kw'>=</span> <span class='no'>alluvium</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>Freq</span>,
           <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>stratum</span>)) +
  <span class='fu'><a href='geom_alluvium.html'>geom_alluvium</a></span>() +
  <span class='fu'><a href='geom_stratum.html'>geom_stratum</a></span>() + <span class='fu'>geom_text</span>(<span class='kw'>stat</span> <span class='kw'>=</span> <span class='st'>"stratum"</span>)</div><div class='img'><img src='minimize-overlaps-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='no'>weight_perm</span> <span class='kw'>&lt;-</span> <span class='fu'>optimize_strata</span>(
  <span class='no'>titanic</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"alluvium"</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"x"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"stratum"</span>,
  <span class='kw'>weight</span> <span class='kw'>=</span> <span class='st'>"Freq"</span>
)</div><div class='output co'>#&gt; <span class='message'>Exhausting separate permutations of axis strata.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='input'><span class='no'>weight_perm</span></div><div class='output co'>#&gt; $perm
#&gt;  [1]  5  6  7  8  9 10  1  2  3  4
#&gt; 
#&gt; $perms
#&gt; $perms[[1]]
#&gt; [1] 2 3 4 1
#&gt; 
#&gt; $perms[[2]]
#&gt; [1] 1 2
#&gt; 
#&gt; $perms[[3]]
#&gt; [1] 1 2
#&gt; 
#&gt; $perms[[4]]
#&gt; [1] 1 2
#&gt; 
#&gt; 
#&gt; $obj
#&gt; [1] 953223
#&gt; 
#&gt; $obj_orig
#&gt; [1] 1000913
#&gt; </div><div class='input'><span class='no'>titanic_weight</span> <span class='kw'>&lt;-</span> <span class='fu'>permute_axis_strata</span>(
  <span class='no'>titanic</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"alluvium"</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"x"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"stratum"</span>,
  <span class='kw'>perms</span> <span class='kw'>=</span> <span class='no'>weight_perm</span>$<span class='no'>perms</span>
)</div><div class='output co'>#&gt; <span class='warning'>Warning: `permute_axis_strata()` is experimental.</span></div><div class='input'><span class='fu'>ggplot</span>(<span class='no'>titanic_weight</span>,
       <span class='fu'>aes</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>stratum</span> <span class='kw'>=</span> <span class='no'>stratum</span>, <span class='kw'>alluvium</span> <span class='kw'>=</span> <span class='no'>alluvium</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>Freq</span>,
           <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>stratum</span>)) +
  <span class='fu'><a href='geom_alluvium.html'>geom_alluvium</a></span>() +
  <span class='fu'><a href='geom_stratum.html'>geom_stratum</a></span>() + <span class='fu'>geom_text</span>(<span class='kw'>stat</span> <span class='kw'>=</span> <span class='st'>"stratum"</span>)</div><div class='img'><img src='minimize-overlaps-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># multiple axes with the same strata</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>vaccinations</span>)
<span class='fu'>ggplot</span>(<span class='no'>vaccinations</span>,
       <span class='fu'>aes</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>survey</span>, <span class='kw'>stratum</span> <span class='kw'>=</span> <span class='no'>response</span>, <span class='kw'>alluvium</span> <span class='kw'>=</span> <span class='no'>subject</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>freq</span>,
           <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>response</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>response</span>)) +
  <span class='fu'><a href='geom_flow.html'>geom_flow</a></span>() +
  <span class='fu'><a href='geom_stratum.html'>geom_stratum</a></span>() + <span class='fu'>geom_text</span>(<span class='kw'>stat</span> <span class='kw'>=</span> <span class='st'>"stratum"</span>)</div><div class='img'><img src='minimize-overlaps-3.png' alt='' width='700' height='433' /></div><div class='input'><span class='no'>count_perm</span> <span class='kw'>&lt;-</span> <span class='fu'>optimize_strata</span>(
  <span class='no'>vaccinations</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"subject"</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"survey"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"response"</span>
)</div><div class='output co'>#&gt; <span class='message'>Exhausting aggregate permutations of all strata.</span></div><div class='input'><span class='no'>count_perm</span></div><div class='output co'>#&gt; $perm
#&gt; [1] 4 1 2 3
#&gt; 
#&gt; $perms
#&gt; $perms[[1]]
#&gt; [1] 4 1 2 3
#&gt; 
#&gt; $perms[[2]]
#&gt; [1] 4 1 2 3
#&gt; 
#&gt; $perms[[3]]
#&gt; [1] 4 1 2 3
#&gt; 
#&gt; 
#&gt; $obj
#&gt; [1] 461
#&gt; 
#&gt; $obj_orig
#&gt; [1] 607
#&gt; </div><div class='input'><span class='no'>vaccinations_count</span> <span class='kw'>&lt;-</span> <span class='fu'>permute_strata</span>(
  <span class='no'>vaccinations</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"subject"</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"survey"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"response"</span>,
  <span class='kw'>perm</span> <span class='kw'>=</span> <span class='no'>count_perm</span>$<span class='no'>perm</span>
)
<span class='fu'>ggplot</span>(<span class='no'>vaccinations_count</span>,
       <span class='fu'>aes</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>survey</span>, <span class='kw'>stratum</span> <span class='kw'>=</span> <span class='no'>response</span>, <span class='kw'>alluvium</span> <span class='kw'>=</span> <span class='no'>subject</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>freq</span>,
           <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>response</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>response</span>)) +
  <span class='fu'><a href='geom_flow.html'>geom_flow</a></span>() +
  <span class='fu'><a href='geom_stratum.html'>geom_stratum</a></span>() + <span class='fu'>geom_text</span>(<span class='kw'>stat</span> <span class='kw'>=</span> <span class='st'>"stratum"</span>)</div><div class='img'><img src='minimize-overlaps-4.png' alt='' width='700' height='433' /></div><div class='input'><span class='no'>weight_perm</span> <span class='kw'>&lt;-</span> <span class='fu'>optimize_strata</span>(
  <span class='no'>vaccinations</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"subject"</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"survey"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"response"</span>,
  <span class='kw'>weight</span> <span class='kw'>=</span> <span class='st'>"freq"</span>
)</div><div class='output co'>#&gt; <span class='message'>Exhausting aggregate permutations of all strata.</span></div><div class='input'><span class='no'>weight_perm</span></div><div class='output co'>#&gt; $perm
#&gt; [1] 4 1 2 3
#&gt; 
#&gt; $perms
#&gt; $perms[[1]]
#&gt; [1] 4 1 2 3
#&gt; 
#&gt; $perms[[2]]
#&gt; [1] 4 1 2 3
#&gt; 
#&gt; $perms[[3]]
#&gt; [1] 4 1 2 3
#&gt; 
#&gt; 
#&gt; $obj
#&gt; [1] 139368
#&gt; 
#&gt; $obj_orig
#&gt; [1] 341518
#&gt; </div><div class='input'><span class='no'>vaccinations_weight</span> <span class='kw'>&lt;-</span> <span class='fu'>permute_strata</span>(
  <span class='no'>vaccinations</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"subject"</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"survey"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"response"</span>,
  <span class='kw'>perm</span> <span class='kw'>=</span> <span class='no'>weight_perm</span>$<span class='no'>perm</span>
)
<span class='fu'>ggplot</span>(<span class='no'>vaccinations_weight</span>,
       <span class='fu'>aes</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>survey</span>, <span class='kw'>stratum</span> <span class='kw'>=</span> <span class='no'>response</span>, <span class='kw'>alluvium</span> <span class='kw'>=</span> <span class='no'>subject</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>freq</span>,
           <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>response</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>response</span>)) +
  <span class='fu'><a href='geom_flow.html'>geom_flow</a></span>() +
  <span class='fu'><a href='geom_stratum.html'>geom_stratum</a></span>() + <span class='fu'>geom_text</span>(<span class='kw'>stat</span> <span class='kw'>=</span> <span class='st'>"stratum"</span>)</div><div class='img'><img src='minimize-overlaps-5.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># many axes with different subsets of strata</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>majors</span>)
<span class='fu'>ggplot</span>(<span class='no'>majors</span>,
       <span class='fu'>aes</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>semester</span>, <span class='kw'>stratum</span> <span class='kw'>=</span> <span class='no'>curriculum</span>, <span class='kw'>alluvium</span> <span class='kw'>=</span> <span class='no'>student</span>,
           <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>curriculum</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>curriculum</span>)) +
  <span class='fu'><a href='geom_flow.html'>geom_flow</a></span>(<span class='kw'>color</span> <span class='kw'>=</span> <span class='st'>"darkgray"</span>) +
  <span class='fu'><a href='geom_stratum.html'>geom_stratum</a></span>()</div><div class='img'><img src='minimize-overlaps-6.png' alt='' width='700' height='433' /></div><div class='input'><span class='no'>count_perm</span> <span class='kw'>&lt;-</span> <span class='fu'>optimize_strata</span>(
  <span class='no'>majors</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"student"</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"semester"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"curriculum"</span>,
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"heuristic"</span>, <span class='kw'>niter</span> <span class='kw'>=</span> <span class='fl'>12</span>
)
<span class='no'>count_perm</span></div><div class='output co'>#&gt; $perm
#&gt; [1] 4 2 5 6 1 3 7
#&gt; 
#&gt; $perms
#&gt; $perms[[1]]
#&gt; [1] 2 5 4 1 3
#&gt; 
#&gt; $perms[[2]]
#&gt; [1] 3 1 6 5 2 4
#&gt; 
#&gt; $perms[[3]]
#&gt; [1] 2 1 5 4 3
#&gt; 
#&gt; $perms[[4]]
#&gt; [1] 1 3 2
#&gt; 
#&gt; $perms[[5]]
#&gt; [1] 1 2
#&gt; 
#&gt; $perms[[6]]
#&gt; [1] 1
#&gt; 
#&gt; $perms[[7]]
#&gt; [1] 1
#&gt; 
#&gt; $perms[[8]]
#&gt; [1] 1
#&gt; 
#&gt; 
#&gt; $obj
#&gt; [1] 39
#&gt; 
#&gt; $obj_orig
#&gt; [1] 53
#&gt; </div><div class='input'><span class='no'>majors_perm</span> <span class='kw'>&lt;-</span> <span class='fu'>permute_strata</span>(
  <span class='no'>majors</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"student"</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"semester"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"curriculum"</span>,
  <span class='kw'>perm</span> <span class='kw'>=</span> <span class='no'>count_perm</span>$<span class='no'>perm</span>
)
<span class='fu'>ggplot</span>(<span class='no'>majors_perm</span>,
       <span class='fu'>aes</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>semester</span>, <span class='kw'>stratum</span> <span class='kw'>=</span> <span class='no'>curriculum</span>, <span class='kw'>alluvium</span> <span class='kw'>=</span> <span class='no'>student</span>,
           <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>curriculum</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>curriculum</span>)) +
  <span class='fu'><a href='geom_flow.html'>geom_flow</a></span>(<span class='kw'>color</span> <span class='kw'>=</span> <span class='st'>"darkgray"</span>) +
  <span class='fu'><a href='geom_stratum.html'>geom_stratum</a></span>()</div><div class='output co'>#&gt; <span class='warning'>Warning: Factor `fill` contains implicit NA, consider using `forcats::fct_explicit_na`</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Factor `stratum` contains implicit NA, consider using `forcats::fct_explicit_na`</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Factor `label` contains implicit NA, consider using `forcats::fct_explicit_na`</span></div><div class='img'><img src='minimize-overlaps-7.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># many axes and strata subsets, tracking individuals/cohorts</span>
<span class='fu'>ggplot</span>(<span class='no'>majors</span>,
       <span class='fu'>aes</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>semester</span>, <span class='kw'>stratum</span> <span class='kw'>=</span> <span class='no'>curriculum</span>, <span class='kw'>alluvium</span> <span class='kw'>=</span> <span class='no'>student</span>,
           <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>curriculum</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>curriculum</span>)) +
  <span class='fu'><a href='geom_flow.html'>geom_flow</a></span>(<span class='kw'>stat</span> <span class='kw'>=</span> <span class='st'>"alluvium"</span>, <span class='kw'>lode.guidance</span> <span class='kw'>=</span> <span class='st'>"rightleft"</span>,
            <span class='kw'>color</span> <span class='kw'>=</span> <span class='st'>"darkgray"</span>) +
  <span class='fu'><a href='geom_stratum.html'>geom_stratum</a></span>()</div><div class='img'><img src='minimize-overlaps-8.png' alt='' width='700' height='433' /></div><div class='input'><span class='no'>count_perm</span> <span class='kw'>&lt;-</span> <span class='fu'>optimize_strata</span>(
  <span class='no'>majors</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"student"</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"semester"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"curriculum"</span>,
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"heuristic"</span>, <span class='kw'>niter</span> <span class='kw'>=</span> <span class='fl'>12</span>
)
<span class='no'>count_perm</span></div><div class='output co'>#&gt; $perm
#&gt; [1] 4 2 5 6 7 1 3
#&gt; 
#&gt; $perms
#&gt; $perms[[1]]
#&gt; [1] 2 5 4 1 3
#&gt; 
#&gt; $perms[[2]]
#&gt; [1] 3 1 6 5 2 4
#&gt; 
#&gt; $perms[[3]]
#&gt; [1] 2 1 5 4 3
#&gt; 
#&gt; $perms[[4]]
#&gt; [1] 1 3 2
#&gt; 
#&gt; $perms[[5]]
#&gt; [1] 1 2
#&gt; 
#&gt; $perms[[6]]
#&gt; [1] 1
#&gt; 
#&gt; $perms[[7]]
#&gt; [1] 1
#&gt; 
#&gt; $perms[[8]]
#&gt; [1] 1
#&gt; 
#&gt; 
#&gt; $obj
#&gt; [1] 39
#&gt; 
#&gt; $obj_orig
#&gt; [1] 53
#&gt; </div><div class='input'><span class='no'>majors_perm</span> <span class='kw'>&lt;-</span> <span class='fu'>permute_strata</span>(
  <span class='no'>majors</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"student"</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"semester"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"curriculum"</span>,
  <span class='kw'>perm</span> <span class='kw'>=</span> <span class='no'>count_perm</span>$<span class='no'>perm</span>
)
<span class='fu'>ggplot</span>(<span class='no'>majors_perm</span>,
       <span class='fu'>aes</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>semester</span>, <span class='kw'>stratum</span> <span class='kw'>=</span> <span class='no'>curriculum</span>, <span class='kw'>alluvium</span> <span class='kw'>=</span> <span class='no'>student</span>,
           <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>curriculum</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>curriculum</span>)) +
  <span class='fu'><a href='geom_flow.html'>geom_flow</a></span>(<span class='kw'>stat</span> <span class='kw'>=</span> <span class='st'>"alluvium"</span>, <span class='kw'>lode.guidance</span> <span class='kw'>=</span> <span class='st'>"rightleft"</span>,
            <span class='kw'>color</span> <span class='kw'>=</span> <span class='st'>"darkgray"</span>) +
  <span class='fu'><a href='geom_stratum.html'>geom_stratum</a></span>()</div><div class='img'><img src='minimize-overlaps-9.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jason Cory Brunson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

